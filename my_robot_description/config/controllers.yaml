controller_manager:
  ros:
    parameters:
      update_rate: 100

# 关节状态广播器
joint_state_broadcaster:
  type: joint_state_broadcaster/JointStateBroadcaster

# 差速驱动控制器
diff_drive_controller:
  type: diff_drive_controller/DiffDriveController
  ros:
    parameters:
      left_wheel_names: ["left_wheel_joint"]
      right_wheel_names: ["right_wheel_joint"]
      
      wheel_separation: 0.28
      wheel_radius: 0.05
      
      pose_covariance_diagonal: [0.001, 0.001, 0.001, 0.001, 0.001, 0.01]
      twist_covariance_diagonal: [0.001, 0.001, 0.001, 0.001, 0.001, 0.01]
      
      open_loop: true
      enable_odom_tf: true
      publish_limited_velocity: true
      use_stamped_vel: false
      
      base_frame_id: base_link
      odom_frame_id: odom
      
      linear_speed_limit: 1.0
      angular_speed_limit: 3.0
      
      publish_rate: 50.0

# 机械臂轨迹控制器
arm_controller:
  type: joint_trajectory_controller/JointTrajectoryController
  ros:
    parameters:
      joints:
        - arm_joint1
        - arm_joint2
        - arm_joint3
        - arm_joint4
      
      state_publish_rate: 50.0
      action_monitor_rate: 20.0
      allow_partial_joints_goal: true
      
      constraints:
        goal_time: 0.6
        stopped_velocity_tolerance: 0.01
        
      gains:
        arm_joint1:
          p: 100.0
          d: 1.0
          i: 1.0
          i_clamp: 1.0
        arm_joint2:
          p: 100.0
          d: 1.0
          i: 1.0
          i_clamp: 1.0
        arm_joint3:
          p: 100.0
          d: 1.0
          i: 1.0
          i_clamp: 1.0
        arm_joint4:
          p: 100.0
          d: 1.0
          i: 1.0
          i_clamp: 1.0

# 夹爪控制器
gripper_controller:
  type: position_controllers/JointGroupPositionController
  ros:
    parameters:
      joints:
        - left_gripper_joint
        - right_gripper_joint
      
      type: position_controllers/JointGroupPositionController
      publish_rate: 10.0
